{% extends 'common/base.html' %}

{% block title %}
  My Profile
{% endblock %}

{% block content %}
<style>
  @media screen and (max-width: 766px) {
    .btn-margin-custom {
      margin-top: 0.5rem;
    }
  }
  @media screen and (max-width: 436px) {
    .btn-margin-sm {
      margin-top: 0.5rem;
    }
  }
</style>
  <div class="container py-5" style="margin-top: 5em;">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-md-10">
        <div class="card shadow-lg border-0">
          <!-- Header Section -->
          <div class="card-header bg-dark text-white d-flex align-items-center justify-content-between">
            <h5 class="mb-0">My Profile</h5>
            <a href="{% url 'profiles:profile_edit' %}" class="btn btn-light btn-sm"><i class="bi bi-pencil"></i> Edit Profile</a>
          </div>

          <!-- Profile Details Section -->
          <div class="card-body">
            <div class="row mb-4">
              <div class="col-md-4 text-center">
                <img src="{{ profile.avatar_url }}" alt="A Profile Picture" class="rounded-circle img-thumbnail" style="width: 150px; height: 150px; object-fit: cover;" />
                <p class="text-muted mt-2">Profile Picture</p>
              </div>
              <div class="col-md-8">
                <h6 class="text-uppercase text-muted">Basic Information</h6>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    <strong>Name:</strong> {{ profile.user.full_name }} 
                  </li>
                  <li class="list-group-item">
                    <strong>Email:</strong> {{ profile.user.email }}
                  </li>
                  <li class="list-group-item">
                    <strong>Phone:</strong> {{ profile.phone|default:'Not provided' }}
                  </li>
                </ul>
              </div>
            </div>

            <!-- Address Details -->
            <div class="row">
              <div class="col-md-12">
                <h6 class="text-uppercase text-muted">Shipping Address</h6>
                <p>
                  {{ profile.shipping_address|default:'Not provided' }}<br />
                  {{ profile.city|default:'Not provided' }}, {{ profile.postal_code|default:'Not provided' }}
                </p>
              </div>
            </div>

            <!-- Account Actions -->
            <div class="text-center mt-4">
              <a href="{% url 'accounts:password_change' %}" class="btn btn-outline-dark btn-lg me-2">Change password</a>
              <a href="{% url 'cart:cart_detail' %}" class="btn btn-primary btn-lg me-2 btn-margin-sm">View Cart</a>
              <a href="{% url 'orders:order_history' %}" class="btn btn-secondary btn-lg btn-margin-custom">View Orders</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
