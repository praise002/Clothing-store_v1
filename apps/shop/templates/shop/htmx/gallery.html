{% load humanize %}
{% for product in products %}
    <li class="relative">
        <!--like button-->
        ....

        <!--Image-->
        <div class="focus-within:ring-2 focus-within:ring-offset-....">
            .....
            <button type="button"
                    hx-get="{% url "mybnb:preview" home.id %}"
                    hx-target="body"
                    hx-swap="beforeend"
                    class="absolute inset-0 focus:outline-none z-30" >
                <span class="sr-only">{{ home.address }}</span>
            </button>
        </div>
        <!--Details-->
        <div class="flex justify-between">
          ...
        </div>
            {# infinite scroll only if 20 or more items in search query #}
            {% if forloop.last and total > 19 %}
               <div
               _="on intersection(intersecting)
                 if intersecting remove me then call infiniteScroll()">
              </div>
            {% endif %}
    </li>
{% endfor %}

{# include htmx oob template to show search stats under the search button #}
{% if request.htmx %}
    {% include "shop/htmx/stats.html" %}
    {% include "shop/components/offset.html" %}
{% endif %}
